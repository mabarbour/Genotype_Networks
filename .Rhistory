plant_growth_May12_2013 <- read.csv("~/Documents/Lanphere_Experiments/data/wind_plant_growth_data_May12-13_2013.csv", skip=1)
str(plant_growth_May12_2013)
plant_growth_May12_2013$Block <- as.factor(plant_growth_May12_2013$Block)
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30]
plant_growth_May12_2013
dimnames(plant_growth_May12_2013)
plant_growth_May12_2013$Total_shoot_growth <- rowSums(plant_growth_May12_2013[ ,9:29])
plant_growth_May12_2013 <- read.csv("~/Documents/Lanphere_Experiments/data/wind_plant_growth_data_May12-13_2013.csv", skip=1)
plant_growth_May12_2013$Block <- as.factor(plant_growth_May12_2013$Block)
plant_growth_May12_2013$Total_shoot_growth <- rowSums(plant_growth_May12_2013[ ,9:29])
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30] # remove Notes section
str(plant_growth_May12_2013)
2
str(plant_growth_May12_2013)
plant_growth_May12_2013$Block <- as.factor(plant_growth_May12_2013$Block)
plant_growth_May12_2013$Total_shoot_growth <- rowSums(plant_growth_May12_2013[ ,9:29])
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30] # remove Notes section
str(plant_growth_May12_2013)
wind_arthropods_May_11_2013 <- read.csv("~/Documents/Lanphere_Experiments/data/Wind_Arthropod_data_survey_1_May_10_2013.csv", skip=4)
str(wind_arthropods_May_11_2013)
plant_growth_May12_2013 <- read.csv("~/Documents/Lanphere_Experiments/data/wind_plant_growth_data_May12-13_2013.csv", skip=1)
str(plant_growth_May12_2013)
plant_growth_May12_2013$Block <- as.factor(plant_growth_May12_2013$Block)
plant_growth_May12_2013$Total_shoot_growth <- rowSums(plant_growth_May12_2013[ ,9:29])
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30] # remove Notes section
plant_growth_May12_2013_not_dead <- plant_growth_May12_2013[-which(plant_growth_May12_2013$Dead_for_plant_survey == 1), ]
dim(plant_growth_May12_2013_not_dead)
plant_growth_May12_2013_not_dead$Total_shoot_growth
plant_growth_May12_2013$Height_Difference <- plant_growth_May12_2013$Height - plant_growth_May12_2013$Original_Height
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30] # remove Notes section
plant_growth_May12_2013_not_dead <- plant_growth_May12_2013[-which(plant_growth_May12_2013$Dead_for_plant_survey == 1), ]
str(plant_growth_May12_2013_not_dead)
plant_growth_May12_2013 <- read.csv("~/Documents/Lanphere_Experiments/data/wind_plant_growth_data_May12-13_2013.csv", skip=1)
str(plant_growth_May12_2013)
plant_growth_May12_2013$Block <- as.factor(plant_growth_May12_2013$Block)
plant_growth_May12_2013$Total_shoot_growth <- rowSums(plant_growth_May12_2013[ ,9:29])
plant_growth_May12_2013$Height_Difference <- plant_growth_May12_2013$Height - plant_growth_May12_2013$Original_Height
plant_growth_May12_2013 <- plant_growth_May12_2013[ ,-30] # remove Notes section
plant_growth_May12_2013_not_dead <- plant_growth_May12_2013[-which(plant_growth_May12_2013$Dead_for_plant_survey == 1), ]
str(plant_growth_May12_2013_not_dead)
total_shoot_growth <- ggplot(plant_growth_May12_2013_not_dead, aes(x=Wind.Expsoure, y=Total_shoot_growth, color=Genotype))
library(ggplot2)
total_shoot_growth <- ggplot(plant_growth_May12_2013_not_dead, aes(x=Wind.Expsoure, y=Total_shoot_growth, color=Genotype))
total_shoot_growth + geom_boxplot()
total_shoot_growth <- ggplot(plant_growth_May12_2013_not_dead, aes(x=Wind.Exposure, y=Total_shoot_growth, color=Genotype))
total_shoot_growth + geom_boxplot()
library(plyr)
total_shoot_growth_means <- ddply(plant_growth_May12_2013_not_dead, .(Wind.Exposure,Genotype), summarise, val=mean(Total_shoot_growth))
total_shoot_growth + geom_point(data=total_shoot_growth_means, aes(y=val)) + geom_line(data=total_shoot_growth_means, aes(y=val, group=Genotype))
height_difference <- ggplot(plant_growth_May12_2013_not_dead, aes(x=Wind.Exposure, y=Height_Difference, color=Genotype))
height_difference + geom_boxplot()
height_difference_means <- ddply(plant_growth_May12_2013_not_dead, .(Wind.Exposure,Genotype), summarise, val=mean(Height_Difference))
height_difference + geom_point(data=height_difference_means, aes(y=val)) + geom_line(data=height_difference_means, aes(y=val, group=Genotype))
total_shoot_growth + geom_point(data=total_shoot_growth_means, aes(y=val)) + geom_line(data=total_shoot_growth_means, aes(y=val, group=Genotype)) # appears to be a strong effect of genotype on shoot growth
total_shoot_growth + geom_boxplot()
lmer_total_shoot_growth_null <- lmer(Total_shoot_growth ~ 1 + (1 | Wind.Exposure:Block))
library(lme4)
lmer_total_shoot_growth_null <- lmer(Total_shoot_growth ~ 1 + (1 | Wind.Exposure:Block))
lmer_total_shoot_growth_null <- lmer(Total_shoot_growth ~ 1 + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_total_shoot_growth_null <- lmer(Total_shoot_growth ~ 1 + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_total_shoot_growth_genotype <- lmer(Total_shoot_growth ~ Genotype + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_total_shoot_growth_expsoure <- lmer(Total_shoot_growth ~ Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_total_shoot_growth_genotype_expsoure <- lmer(Total_shoot_growth ~ Genotype + Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_total_shoot_growth_genotype_exposure_interaction <- lmer(Total_shoot_growth ~ Genotype*Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
anova(lmer_total_shoot_growth_null, lmer_total_shoot_growth_genotype)
anova(lmer_total_shoot_growth_null, lmer_total_shoot_growth_expsoure)
anova(lmer_total_shoot_growth_genotype, lmer_total_shoot_growth_genotype_expsoure)
anova(lmer_total_shoot_growth_genotype, lmer_total_shoot_growth_genotype_exposure_interaction)
lmer_height_difference_null <- lmer(Height_Difference ~ 1 + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_genotype <- lmer(Height_Difference ~ Genotype + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_exposure <- lmer(Height_Difference ~ Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_genotype_exposure <- lmer(Height_Difference ~ Genotype + Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_null <- lmer(Height_Difference ~ 1 + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_genotype <- lmer(Height_Difference ~ Genotype + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_exposure <- lmer(Height_Difference ~ Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_genotype_exposure <- lmer(Height_Difference ~ Genotype + Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
lmer_height_difference_genotype_exposure_interaction <- lmer(Height_Difference ~ Genotype*Wind.Exposure + (1 | Wind.Exposure:Block), data=plant_growth_May12_2013_not_dead)
anova(lmer_height_difference_null, lmer_height_difference_genotype)
anova(lmer_height_difference_null, lmer_height_difference_exposure)
anova(lmer_height_difference_null, lmer_height_difference_genotype) # significant effect of Genotype on height difference
anova(lmer_height_difference_genotype, lmer_height_difference_exposure)
anova(lmer_height_difference_genotype, lmer_height_difference_genotype_exposure)
anova(lmer_height_difference_genotype_exposure, lmer_height_difference_genotype_exposure_interaction)
anova(lmer_height_difference_null, lmer_height_difference_exposure) # signficant effect of wind.exposure
qplot(plant_growth_May12_2013_not_dead$Height_Difference)
log(-1)
log(-10)
qplot(plant_growth_May12_2013_not_dead$Total_shoot_growth)
qplot(log(plant_growth_May12_2013_not_dead$Total_shoot_growth + 1))
qplot(plant_growth_May12_2013_not_dead$Height)
qplot(plant_growth_May12_2013_not_dead$Height_Difference) # distribution appears bimodal...may be an issue for the models
qplot(plant_growth_May12_2013_not_dead$Height_Difference, geom="density") # distribution appears bimodal...may be an issue for the models
qplot(plant_growth_May12_2013_not_dead$Height_Difference) #geom="density") # distribution appears bimodal...may be an issue for the models
qplot(plant_growth_May12_2013_not_dead$Height_Difference, geom="density") # distribution appears bimodal...may be an issue for the models
Density_Surveys_Gall_Parasitoid_Bagging_Experiment <- read.csv("~/Documents/Genotype_Ptoid_Phenology_Experiment/Density_Surveys_Gall_Parasitoid_Bagging_Experiment.csv")
viewData(Density_Surveys_Gall_Parasitoid_Bagging_Experiment)
Density_Surveys_Gall_Parasitoid_Bagging_Experiment <- read.csv("~/Documents/Genotype_Ptoid_Phenology_Experiment/Density_Surveys_Gall_Parasitoid_Bagging_Experiment.csv", skip=1)
head(Density_Surveys_Gall_Parasitoid_Bagging_Experiment)
Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Total_shoot_estimate <- Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Shoots_on_last_sampled_branch*5
Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyai_density <- Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_count / Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Total_shoot_estimate
library(ggplot2)
Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_density <- Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_count / Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Total_shoot_estimate
density_genotype <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=Genotype, y=Iteomyia_density))
density_genotype + geom_boxplot()
Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_density_per_100_shoots <- (Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_count / Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Total_shoot_estimate)*100
density_genotype <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=Genotype, y=Iteomyia_density_per_100_shoots))
density_genotype + geom_boxplot()
qplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment$Iteomyia_density_per_100_shoots)
library(MASS)
lm_gall_density <- lm(Iteomyia_density_per_100_shoots ~ Genotype, data=Density_Surveys_Gall_Parasitoid_Bagging_Experiment)
summary(lm_gall_density)
density_genotype + geom_boxplot()
density_row <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=Row, y=Iteomyia_density_per_100_shoots, color=Genotype))
density_row + geom_boxplot()
density_row <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=Row, y=Iteomyia_density_per_100_shoots))
density_row + geom_boxplot()
density_row + geom_dotplot
density_row <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=Row, y=Iteomyia_density_per_100_shoots))
density_row + geom_dotplot
density_row <- ggplot(Density_Surveys_Gall_Parasitoid_Bagging_Experiment, aes(x=as.factor(Row), y=Iteomyia_density_per_100_shoots))
density_row + geom_boxplot
density_row + geom_dotplot()
density_row + geom_boxplot()
dp1dt = c1*p1*(h - p1) - e1*p1 - u21*p12 - u31*p13
dp1dt = c1*p1*(h - p1) - e1*p1 - u21*p12 - u31*p13
dp12dt = c2*p12*(p1 - p12) - e2*p12 - (e1 + u21)*p12 - u32*p23
dp23dt = (c32*p23 + c31*p13)*(p12 - p23) + c2*p12*p13 - e32*p23 - (e1 + e2 + u21 + u32)*p23
dp13dt = (c32*p23 + c31*p13)*(p1 - p12 - p13) + (e2 + u32)*p23 -
e31*p13 - (e1 + u31)*p13 - c2*p12*p13
dp1dt <- c1*p1*(h - p1) - e1*p1 - u21*p12 - u31*p13
Gall_removal_data_May_2013 <- read.csv("~/Documents/Genotype_Ptoid_Phenology_Experiment/Gall_removal_data_May_2013.csv")
View(Gall_removal_data_May_2013)
Gall_removal_data_May_2013 <- read.csv("~/Documents/Genotype_Ptoid_Phenology_Experiment/Gall_removal_data_May_2013.csv", skip=1)
str(Gall_removal_data_May_2013)
Gall_removal_data_May_2013$Total_Leaves_Removed <- with(Gall_removal_data_May_2013, Leaves.Removed.1 + Leaves.Removed.2)
str(Gall_removal_data_May_2013)
Gall_removal_data_May_2013 <- read.csv("~/Documents/Genotype_Ptoid_Phenology_Experiment/Gall_removal_data_May_2013.csv", skip=1)
Gall_removal_data_May_2013$Total_Leaves_Removed <- with(Gall_removal_data_May_2013, Leaves.Removed.1 + Leaves.Removed.2)
str(Gall_removal_data_May_2013)
plot(Total_Leaves_Removed ~ Genotype, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= mean, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= variance, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= var, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= median, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= mean, data=Gall_removal_data_May_2013)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= median, data=Gall_removal_data_May_2013)
50/350
hist(Gall_removal_data_May_2013$Total_Leaves_Removed)
mean(Gall_removal_data_May_2013$Total_Leaves_Removed)
aggregate(Total_Leaves_Removed ~ Genotype, FUN= mean, data=Gall_removal_data_May_2013)
install.packages("plspm")
library("plspm", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=1)
str(Gall_Network_Data_Survey_2_2012)
dimnames(Gall_Network_Data_Survey_2_2012)
setwd(dir='~/Documents/Genotype_Networks/')
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=2)
str(Gall_Network_Data_Survey_2_2012)
dimnames(Gall_Network_Data_Survey_2_2012)
setwd(dir='~/Documents/Genotype_Networks/')
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=1)
str(Gall_Network_Data_Survey_2_2012)
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=1, stringsAsFactors = FALSE, strip.white = TRUE)
str(Gall_Network_Data_Survey_2_2012)
dimnames(Gall_Network_Data_Survey_2_2012)
g.contents_matrix <- as.matrix(Gall_Network_Data_Survey_2_2012[ ,10:45])
str(g.contents_matrix)
source('~/Documents/miscellaneous_R/community_explore.R')
rankAbundance(g.contents_matrix)
rankAbundancePlot(g.contents_matrix)
head(g.contents_matrix)
is.NA(g.contents_matrix)
is.na(g.contents_matrix)
g.contents_matrix <- as.matrix(Gall_Network_Data_Survey_2_2012[ ,10:45])
str(g.contents_matrix)
is.na(g.contents_matrix) <- 0 # replaces all NAs in gall contentx matrix with zeros.  These are biologically meaningful zeros and do not represent missing data.
rankAbundancePlot(g.contents_matrix)
head(g.contents_matrix)
is.na(g.contents_matrix) <- 0 # replaces all NAs in gall contentx matrix with zeros.  These are biologically meaningful zeros and do not represent missing data.
head(g.contents_matrix)
g.contents_matrix["NA"]
install.packages("norm")
library("norm", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
g.contents_matrix[is.na(g.contents_matrix)] <- 0 # replaces all NAs in gall contentx matrix with zeros.  These are biologically meaningful zeros and do not represent missing data.
rankAbundancePlot(g.contents_matrix)
dimnames(Gall_Network_Data_Survey_2_2012)
gall_net <- cbind.data.frame(Gall_Network_Data_Survey_2_2012[ ,c("survey","plant.position","gall.id","g.id.unk","gall.sp","g.height","g.width","g.3meas","point.count", "exit.size")], g.contents_matrix)
dimnames_gall_net
dimnames(gall_net)
plot(Mesopol ~ g.height, data=subset(gall_net, gall.sp == "vLG"))
plot(Platy ~ g.height, data=subset(gall_net, gall.sp == "vLG"))
plot(Mesopol ~ g.height, data=subset(gall_net, gall.sp == "vLG"))
plot(Tory.mal ~ g.height, data=subset(gall_net, gall.sp == "vLG"))
plot(nothing ~ g.height, data=subset(gall_net, gall.sp == "vLG"))
plot(Tory.mal ~ g.height, data=subset(gall_net, gall.sp == "vLG" & nothing != 0))
plot(Tory.mal ~ g.height, data=subset(gall_net, gall.sp == "vLG" & nothing == 0))
plot(Platy ~ g.height, data=subset(gall_net, gall.sp == "vLG" & nothing == 0))
plot(Mesopol ~ g.height, data=subset(gall_net, gall.sp == "vLG" & nothing == 0))
plot(Ptero.2 ~ g.height, data= subset(gall_net, gall.sp == "vLG" & nothing == 0))
gall_net
dimnames(gall_net)
rankAbundancePlot(subset(g.contents_matrix, gall.sp == "vLG")
)
rankAbundancePlot(subset(gall_net, gall.sp == "vLG", select = vLG.pupa:exit.hole)
)
rankAbundancePlot(subset(gall_net, gall.sp == "rG", select = vLG.pupa:exit.hole))
rankAbundancePlot(subset(gall_net, gall.sp == "rsLG", select = vLG.pupa:exit.hole))
rankAbundancePlot(subset(gall_net, gall.sp == "vLG", select = vLG.pupa:exit.hole))
vLG_comm <- subset(gall_net, gall.sp == "vLG", select = c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")) # currently excluding a few species
head(vLG_comm)
vLG_comm <- subset(gall_net, gall.sp == "vLG", select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")) # currently excluding a few species
head(vLG_comm)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal"))
library(reshape)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal"))
head(vLG_comm_melt)
vLG_comm_melt <- melt(vLG_comm, id.vars="g.height")
vLG_comm_melt
dimnames(vLG_comm_melt)
library(ggplot2)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, color=variable)) + geom_point() + geom_smooth()
head(vLG_comm)
vLG_comm$ptized <- rowSums(vLG_comm[ ,c("Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")])
head(vLG_comm)
vLG_comm$surv <- with(vLG_comm, vLG.pupa/(vLG.pupa + ptized))
vLG_comm$surv
vLG_comm$total <- vLG_comm$vLG.pupa + vLG_comm$ptized
vLG_comm$surv <- with(vLG_comm, vLG.pupa/total)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="vLG.pupa")
head(vLG_comm_melt)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="surv")
head(vLG_comm_melt)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value)) + geom_point() + geom_smooth(weight=total)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
vLG_comm <- subset(gall_net, gall.sp == "vLG" & nothing == 0, select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")) # currently excluding a few species
vLG_comm$ptized <- rowSums(vLG_comm[ ,c("Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")])
vLG_comm$total <- vLG_comm$vLG.pupa + vLG_comm$ptized
vLG_comm$surv <- with(vLG_comm, vLG.pupa/total)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="surv")
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value)) + geom_point() + geom_smooth()
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, 15.5 > value > 4, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, 15.5 > value > 4), aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, value > 4 & value < 15.5), aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, value > 4), aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, g.height > 4), aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.5), aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="Mesopol")
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="Platy")
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
vLG_comm$platy_kill <- with(vLG_comm, Platy/total)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"), measure.vars="platy_kill")
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total)) + geom_point() + geom_smooth()
vLG_comm <- subset(gall_net, gall.sp == "vLG" & nothing == 0, select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")) # currently excluding a few species
head(vLG_comm)
vLG_comm$total <- rowSums(vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")])
vLG_comm <- subset(gall_net, gall.sp == "vLG" & nothing == 0, select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")) # currently excluding a few species
vLG_comm$total <- rowSums(vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")])
head(vLG_comm)
vLG_comm <- with(vLG_comm, cbind(g.height, vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]/total, total)
)
vLG_comm <- with(vLG_comm, cbind(g.height, vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]/total, total))
head(vLG_comm)
vLG_comm <- na.omit(vLG_comm)
head(vLG_comm)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total"))
head(vLG_comm_melt)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth()
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
rankAbundancePlot(subset(gall_net, gall.sp == "rsLG", select = vLG.pupa:exit.hole))
rankAbundancePlot(subset(gall_net, gall.sp == "rG", select = vLG.pupa:exit.hole))
subset(gall_net, gall.sp == "rG", select = vLG.pupa:exit.hole)
subset(gall_net, gall.sp=="rG", select="vLG.pupa")
rankAbundancePlot(subset(gall_net, gall.sp == "vLG", select = vLG.pupa:exit.hole))
ggplot(data=subset(vLG_comm_melt, value < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=subset(vLG_comm_melt, value < 15.5), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=subset(vLG_comm_melt, g.height < 15.5), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=subset(vLG_comm_melt, g.height < 15.9), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
dimnames(gall_net)
rsLG_comm <- subset(gall_net, gall.sp == "rsLG" & nothing == 0 & Pont.larv == 0, select = c("g.height","Pont.ad","Pont.prep","Eury.fem","Eury.mal"))
dimnames(rsLG_comm)
rsLG_comm$total <- rowSums(rsLG_comm[ ,c("Pont.ad","Pont.prep","Eury.fem","Eury.mal")])
rsLG_comm$total <- rowSums(rsLG_comm[ ,c("Pont.ad","Pont.prep","Eury.fem","Eury.mal")])
rsLG_comm <- with(rsLG_comm, cbind(g.height, rsLG_comm[ ,c("Pont.ad","Pont.prep","Eury.fem","Eury.mal")]/total, total))
rsLG_comm <- na.omit(rsLG_comm)
rsLG_comm_melt <- melt(rsLG_comm, id.vars=c("g.height","total"))
ggplot(data=rsLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
rsLG_comm$Pont.all <- rowSums(rsLG_comm[ ,c("Pont.ad","Pont.prep")])
rsLG_comm <- with(rsLG_comm, cbind(g.height, rsLG_comm[ ,c("Pont.all","Eury.fem","Eury.mal")]/total, total))
rsLG_comm <- na.omit(rsLG_comm)
rsLG_comm_melt <- melt(rsLG_comm, id.vars=c("g.height","total"))
ggplot(data=rsLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
qplot(data=vLG_comm_melt, weight=g.height, geom="histogram")
qplot(data=vLG_comm_melt, x=g.height, geom="histogram")
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
qplot(data=vLG_comm_melt, x=g.height, geom="histogram")
plant.position.info <- read.csv("~/Documents/Genotype_Willow_Community/datasets/Willow Garden Positions.csv")
head(plant.position.info)
plant.position.info <- plant.position.info[ ,c("Plant.Position","Genotype","Gender")]
gall_net <- merge(gall_net, plant.position.info, by.x="plant.position", by.y="Plant.Position")
vLG_comm <- subset(gall_net, gall.sp == "vLG" & nothing == 0, select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal","Genotype")) # currently excluding a few species
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total","Genotype"))
vLG_comm$total <- rowSums(vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]) # currently excluding 'nothing' categories
vLG_comm <- with(vLG_comm, cbind(g.height, vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]/total, total))
vLG_comm <- na.omit(vLG_comm)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total","Genotype"))
dimnames(gall_net)
vLG_comm <- subset(gall_net, gall.sp == "vLG" & nothing == 0, select = c("g.height","vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal","Genotype")) # currently excluding a few species
dimnames(Gall_net)
dimnames(gall_net)
vLG_comm$total <- rowSums(vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]) # currently excluding 'nothing' categories
vLG_comm <- with(vLG_comm, cbind(g.height, vLG_comm[ ,c("vLG.pupa","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","Eulo.mal")]/total, total, Genotype))
vLG_comm <- na.omit(vLG_comm)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total","Genotype"))
head(vLG_comm_melt)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
qplot(data=vLG_comm_melt, x=g.height, color = Genotype, geom="histogram")
qplot(data=vLG_comm_melt, x=g.height, color = Genotype, geom="density")
qplot(data=subset(vLG_comm_melt, Genotype == c("X","B")), x=g.height, color = Genotype, geom="density")
qplot(data=subset(vLG_comm_melt, Genotype == c("X","B","A")), x=g.height, color = Genotype, geom="density")
ggplot(data=vLG_comm_melt, aes(x=Genotype, y=g.height)) + geom_boxplot()
qplot(data=subset(vLG_comm_melt, Genotype == c("X","B","A")), x=g.height, color = Genotype, geom="density")
ggplot(data=vLG_comm_melt, aes(x=Genotype, y=g.height)) + geom_boxplot()
qplot(data=subset(vLG_comm_melt, Genotype == c("J","X","*","Z","B","H","W")), x=g.height, color = Genotype, geom="density")
ggplot(data=vLG_comm_melt, aes(x=Genotype, y=g.height)) + geom_boxplot()
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
vLG_comm$Tory.all <- rowSums(vLG_comm[ ,c("Tory.mal","Tory.fem")])
vLG_comm$Mesopol.all <- rowSums(vLG_comm[ ,c("Mesopol","Ptero.2")])
vLG_comm$Euloph.all <- rowSums(vLG_comm[ ,c("Eulo.fem","Eulo.mal")])
vLG_comm <- with(vLG_comm, cbind(g.height, vLG_comm[ ,c("vLG.pupa","Platy","Tory.all","Mesopol.all","Euloph.all")]/total, total, Genotype)) # note that there are still interesting dynamics if you keeps males and females separate.
vLG_comm <- na.omit(vLG_comm)
vLG_comm_melt <- melt(vLG_comm, id.vars=c("g.height","total","Genotype"))
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=TRUE)
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + stat_smooth(method="glm", family="binomial", formula = value ~ g.height) + geom_smooth(se=TRUE)
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + stat_smooth(method="glm", family="binomial", formula = value ~ g.height) + geom_smooth(method="glm")
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + stat_smooth(method="glm", family="binomial", formula = value ~ g.height, data=vLG_comm_melt) + geom_smooth(method="glm")
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + stat_smooth(method="glm", family="binomial", formula = value ~ g.height, data=vLG_comm_melt)
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + stat_smooth(method="glm", family="binomial")
ggplot(data=subset(vLG_comm_melt, g.height > 4 & g.height < 15.8), aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=FALSE)
ggplot(data=vLG_comm_melt, aes(x=g.height, y=value, weight=total, color=variable)) + geom_point() + geom_smooth(se=TRUE)
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=2, stringsAsFactors = FALSE, strip.white = TRUE)
head(Gall_Network_Data_Survey_2_2012)
Gall_Network_Data_Survey_2_2012 <- read.csv("~/Documents/Genotype_Networks/Gall_Network_Data_Survey_2_raw.csv", skip=1, stringsAsFactors = FALSE, strip.white = TRUE)
head(Gall_Network_Data_Survey_2_2012)
plant.position.info <- read.csv("~/Documents/Genotype_Willow_Community/datasets/Willow Garden Positions.csv")
plant.position.info <- plant.position.info[ ,c("Plant.Position","Genotype","Gender")]
g.contents_matrix <- as.matrix(Gall_Network_Data_Survey_2_2012[ ,10:45])
str(g.contents_matrix)
g.contents_matrix[is.na(g.contents_matrix)] <- 0 # replaces all NAs in gall contentx matrix with zeros.  These are biologically meaningful zeros and do not represent missing data.
dimnames(Gall_Network_Data_Survey_2_2012)
g.contents_matrix <- as.matrix(subset(Gall_Network_Data_Survey_2_2012, select = vLG.pupa:exit.hole))
str(g.contents_matrix)
g.contents_matrix[is.na(g.contents_matrix)] <- 0 # replaces all NAs in gall contentx matrix with zeros.  These are biologically meaningful zeros and do not represent missing data.
gall_net <- cbind.data.frame(Gall_Network_Data_Survey_2_2012[ ,c("survey","plant.position","gall.id","g.id.unk","gall.sp","g.sp.unsure","g.height","g.width","g.3meas","point.count", "exit.size")], g.contents_matrix)
gall_net <- merge(gall_net, plant.position.info, by.x="plant.position", by.y="Plant.Position")
rankAbundancePlot(subset(gall_net, gall.sp == "vLG", select = vLG.pupa:exit.hole))
rankAbundancePlot(subset(gall_net, gall.sp == "rsLG", select = vLG.pupa:exit.hole))
library(bipartite)
head(gall_net)
with(gall_net, table(plant.position, gall.sp))
gall_net$g.total <- rowSums(gall_net, select = vLG.pupa:nothing)
gall_net$g.total <- rowSums(subset(gall_net, select = vLG.pupa:nothing))
gall_net$g.total
gall_net[1395,]
gall_net_melt <- melt(gall_net, id.vars = c("Genotype", "Gender", "plant.position","gall.sp"))
head(gall_net_melt)
head(subset(gall_net_melt, variable = g.total))
subset(gall_net_melt, variable=="g.total")
head(subset(gall_net_melt, variable=="g.total"))
names(airquality) <- tolower(names(airquality))
aqm <- melt(airquality, id=c("month", "day"), na.rm=TRUE)
aqm
cast(aqm, day ~ month ~ variable)
head(gall_net_melt)
cast(aqm, day ~ month ~ variable)
cast(aqm, month ~ variable, mean)
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, fun.aggregate = count, subset = variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, subset = variable == "g.total")
names(ChickWeight) <- tolower(names(ChickWeight))
chick_m <- melt(ChickWeight, id=2:4, na.rm=TRUE)
chick_m
head(chick_m)
cast(chick_m, time ~ variable, mean)
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, mean, subset = variable == "g.total")
warnings(0)
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, fun.aggregate = mean, variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, fun.aggregate = mean, variable == "g.total", value = value)
head(gall_net_melt)
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, subset = variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, mean(value), subset = variable == "g.total")
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, mean("value"), subset = variable == "g.total")
str(gall_net_melt)
dimnames(gall_net)
str(gall_net)
gall_net_melt <- melt(gall_net, id.vars = c("Genotype", "Gender", "plant.position","gall.sp"), measure.vars=c("vLG.pupa","rG.wh.larv","rG.or.larv","SG.larv","aSG.larv","twG.larv","Pont.ad","Pont.prep","Pont.larv","Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","unk.ptoid","Eulo.mal","unk.larv","moth.ad3","incidental.sp.239","Mymarid","diff.or.larva","rsLG.solid","unsure","nothing","inq.dam","exit.hole"))
gall_net_melt <- melt(gall_net, id.vars = c("Genotype", "Gender", "plant.position","gall.sp"), measure.vars=c("vLG.pupa","rG.wh.larv","rG.or.larv","SG.larv","aSG.larv","twG.larv","Pont.ad","Pont.prep","Pont.larv","Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","unk.ptoid","Eulo.mal","unk.larv","moth.ad3","incidental.sp.239","Mymarid","diff.or.larv","rsLG.solid","unsure","nothing","inq.dam","exit.hole"))
head(gall_net_melt)
gall_net_melt <- melt(gall_net, id.vars = c("Genotype", "Gender", "plant.position","gall.sp"), measure.vars=c("vLG.pupa","rG.wh.larv","rG.or.larv","SG.larv","aSG.larv","twG.larv","Pont.ad","Pont.prep","Pont.larv","Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","unk.ptoid","Eulo.mal","unk.larv","moth.ad3","incidental.sp.239","Mymarid","diff.or.larv","rsLG.solid","unsure","nothing","inq.dam","exit.hole","g.total"))
cast(data = gall_net_melt, formula = plant.position ~ gall.sp, sum, subset = variable == "g.total")
head(gall_net)
gall_net[1:20,]
genotype_gall_net <- cast(data = gall_net_melt, formula = plant.position ~ gall.sp, sum, subset = variable == "g.total")
str(genotype_gall_net)
genotype_gall_net
visweb(genotype_gall_net)
plotweb(genotype_gall_net)
genotype_gall_net <- cast(data = gall_net_melt, formula = genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
visweb(genotype_gall_net)
visweb(genotype_gall_net, type ="diagonal")
genotype_gall_net
computeModules(genotype_gall_net)
data(small1976)
small1976
str(gall_net_melt)
gall_net_melt$variable
gall_net_melt$gall.sp
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_net
rownames(genotype_gall_net) <- genotype_gall_net$Genotype
genotype_gall_net
genotype_gall_net <- genotype_gall_net[ ,-1]
visweb(genotype_gall_net, type ="diagonal")
genotype_gall_net <- as.matrix(genotype_gall_net[ ,-1])
visweb(genotype_gall_net, type ="diagonal")
visweb(genotype_gall_net, type ="nested")
visweb(genotype_gall_net, type ="diagonal")
plotweb(genotype_gall_net)
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
str(small1976)
str(genotype_gall_net)
rownames(genotype_gall_net) <- genotype_gall_net$Genotype
str(genotype_gall_net)
colnames(genotype_gall_net) <- colnames(genotype_gall_net)
str(genotype_gall_net)
genotype_gall_net <- as.matrix(genotype_gall_net[ ,-1])
str(genotype_gall_net)
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
rownames(genotype_gall_net) <- genotype_gall_net$Genotype
genotype_gall_matrix <- as.matrix(genotype_gall_net[ ,-1])
genotype_gall_matrix
dimnames(genotype_gall_matrix) <- c(rownames(genotype_gall_matrix), colnames(genotype_gall_matrix))
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_matrix <- as.matrix(genotype_gall_net[ ,-1])
dimnames(genotype_gall_matrix) <- c(rownames(genotype_gall_net), colnames(genotype_gall_net))
colnames(genotype_gall_net)
rownames(genotype_gall_net)
genotype_gall_net
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_matrix <- as.matrix(genotype_gall_net[ ,-1])
dimnames(genotype_gall_matrix) <- c(rownames(genotype_gall_net$Genotype), colnames(genotype_gall_net[ ,-1]))
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_matrix <- as.matrix(genotype_gall_net[ ,-1])
rownames(genotype_gall_matrix) <- rownames(genotype_gall_net$Genotype)
colnames(genotype_gall_matrix) <- colnames(genotype_gall_net[ ,-1]))
colnames(genotype_gall_matrix) <- colnames(genotype_gall_net[ ,-1])
str(genotype_gall_matrix)
genotype_gall_net <- cast(data = gall_net_melt, formula = Genotype ~ gall.sp, sum, subset = variable == "g.total")
genotype_gall_matrix <- as.matrix(genotype_gall_net[ ,-1])
rownames(genotype_gall_matrix) <- genotype_gall_net$Genotype
colnames(genotype_gall_matrix) <- colnames(genotype_gall_net[ ,-1])
str(genotype_gall_matrix)
visweb(genotype_gall_net, type ="diagonal")
visweb(genotype_gall_matrix, type ="diagonal")
plotweb(genotype_gall_net)
plotweb(genotype_gall_matrix)
computeModules(genotype_gall_matrix)
computeModules(genotype_gall_matrix)
test <- computeModules(genotype_gall_matrix)
plotModuleWeb(test)
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum)
gall_ptoid_net
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum, subset = variable == c("Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","Eulo.mal", "moth.ad3","Mymarid","diff.or.larv"))
head(gall_net_melt)
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum, subset = variable = c("Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","Eulo.mal", "moth.ad3","Mymarid","diff.or.larv"))
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum, subset = variable == "Eury.fem" & "Eury.mal")#,"Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","Eulo.mal", "moth.ad3","Mymarid","diff.or.larv"))
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum, subset = variable == "Eury.fem" & variable == "Eury.mal")#,"Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","Eulo.mal", "moth.ad3","Mymarid","diff.or.larv"))
gall_ptoid_net <- cast(gall_net_melt, gall.sp ~ variable, sum, subset = variable %in% c("Eury.fem","Eury.mal","Platy","Tory.mal","Tory.fem","Mesopol","Ptero.2","Eulo.fem","moth.ad1","Lestodip","Lathro.fem","Lathro.mal","moth.larv","Eulo.mal", "moth.ad3","Mymarid","diff.or.larv"))
head(gall_ptoid_net)
gall_ptoid_matrix <- as.matrix(gall_ptoid_net[ ,-1])
colnames(gall_ptoid_matrix) <- colnames(gall_ptoid_net)
colnames(gall_ptoid_matrix) <- colnames(gall_ptoid_net[ ,-1])
rownames(gall_ptoid_matrix) <- gall_ptoid_net$gall.sp
visweb(gall_ptoid_matrix)
visweb(gall_ptoid_matrix, type="diagonal")
plotweb(gall_ptoid_matrix)
test_gall_ptoids <- computeModules(gall_ptoid_matrix)
plotModuleWeb(test_gall_ptoids)
visweb(gall_ptoid_matrix, type="diagonal")
plotweb(gall_ptoid_matrix)
test_gall_ptoids <- computeModules(gall_ptoid_matrix)
gall_ptoid_matrix
gall_ptoid_net
gall_ptoid_net$gall.sp[1] <- "UNKNOWN"
gall_ptoid_net
gall_ptoid_matrix <- as.matrix(gall_ptoid_net[ ,-1])
colnames(gall_ptoid_matrix) <- colnames(gall_ptoid_net[ ,-1])
rownames(gall_ptoid_matrix) <- gall_ptoid_net$gall.sp
visweb(gall_ptoid_matrix, type="diagonal")
plotweb(gall_ptoid_matrix)
test_gall_ptoids <- computeModules(gall_ptoid_matrix)
plotModuleWeb(test_gall_ptoids)
visweb(gall_ptoid_matrix, type="nested")
